(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([[79],{"./src/main/webpack/components/custom-video/custom-video.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/es.array.push.js"),__webpack_require__("./node_modules/core-js/modules/es.json.stringify.js"),function(window){var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var players=[];window.onYouTubeIframeAPIReady=function onYouTubeIframeAPIReady(){for(var playerElements=document.getElementsByClassName("cmp-custom-video"),i=0;i<playerElements.length;i++){var _playerElement$datase,_playerElement$datase2,_playerElement$datase3,playerElement=playerElements[i],videoId=null===(_playerElement$datase=playerElement.dataset)||void 0===_playerElement$datase?void 0:_playerElement$datase.videoId,playerEl=playerElement.querySelector(".player"),playButton=playerElement.querySelector(".start-video"),thumbnailContainerEl=playerElement.querySelector(".thumbnail_container"),dataEfeLayer=JSON.parse(null===(_playerElement$datase2=playerElement.dataset)||void 0===_playerElement$datase2?void 0:_playerElement$datase2.efeLayer),thumbnailUrl=null===(_playerElement$datase3=playerElement.dataset)||void 0===_playerElement$datase3?void 0:_playerElement$datase3.thumbnailImage;playerElement.querySelector(".thumbnail").src=thumbnailUrl;var player=new YT.Player(playerEl,{videoId:videoId,playerVars:{playsInline:1},events:{onReady:onPlayerReady(playerEl,playButton,thumbnailContainerEl),onStateChange:onPlayerStateChange(dataEfeLayer,false)}});players.push(player)}function onPlayerStateChange(dataEfeLayer,videoStart){return function(event){var _YT,_YT$PlayerState,_YT2,_YT2$PlayerState;if((null==event?void 0:event.data)===(null===(_YT=YT)||void 0===_YT||null===(_YT$PlayerState=_YT.PlayerState)||void 0===_YT$PlayerState?void 0:_YT$PlayerState.PLAYING)&&!videoStart){var _window$adobeDataLaye,updatedEfeLayer=JSON.parse(JSON.stringify(dataEfeLayer));updatedEfeLayer.video.videoTimed.starts.value=1,null==window||null===(_window$adobeDataLaye=window.adobeDataLayer)||void 0===_window$adobeDataLaye||_window$adobeDataLaye.push(updatedEfeLayer),videoStart=!0}if((null==event?void 0:event.data)===(null===(_YT2=YT)||void 0===_YT2||null===(_YT2$PlayerState=_YT2.PlayerState)||void 0===_YT2$PlayerState?void 0:_YT2$PlayerState.ENDED)){var _window$adobeDataLaye2,_updatedEfeLayer=JSON.parse(JSON.stringify(dataEfeLayer));_updatedEfeLayer.video.videoTimed.completes.value=1,null==window||null===(_window$adobeDataLaye2=window.adobeDataLayer)||void 0===_window$adobeDataLaye2||_window$adobeDataLaye2.push(_updatedEfeLayer),videoStart=!1}}}function onPlayerReady(playerEl,playButton,thumbnailContainerEl){return function(event){var player=event.target;(playerEl=player.getIframe()).style.display="none",playButton.addEventListener("click",(function(){playButton.style.display="none",playerEl.style.display="block",thumbnailContainerEl.style.display="none",player.playVideo()}))}}}}(window)}}]);